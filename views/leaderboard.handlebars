<h2>2023 Leaderboard</h2>

<article>
    <h4>Overall Points</h4>
    {{!-- leaderboard gender filter --}}
    Gender Filter
    <select id="gender-filter" name="gender-filter">
        <option value="" disabled selected>Gender Filter</option>
        <option value="">Overall</option>
        <option value="F">W/T/F</option>
        <option value="M">Male</option>
    </select>
    <span id="filter">{{gender}}</span>

    {{!-- if points exist display leader table --}}
    {{#if userPoints.userPoints}}

    <table class="leaderboard">
        <tr>
            <th>#</th>
            <th>Rider Name</th>
            <th>Elevation</th>
            <th>Miles</th>
            <th>Routes</th>
            <th>Points</th>
        </tr>
        {{#each userPoints.userPoints as |userPoints|}}
        <tr>
            {{!-- <td>{{userPoints.position}}</td> --}}
            <td>{{add1 @index}}</td>
            <td>{{userPoints.user.name}}</td>
            <td>{{format_thousands userPoints.total_elevation}}</td>
            <td>{{format_miles userPoints.total_miles}}</td>
            <td>{{userPoints.total_routes}}</td>
            <td class="points">{{userPoints.total_total_points}}</td>
        </tr>
        {{/each}}
    </table>
</article>
{{/if}}
<hr>
<article>
    <h4>Submitted Routes</h4>
    {{!-- Route Filter --}}
    {{!-- <select id="route-filter" name="route-filter">
        <option value="" disabled selected>Route Filter</option>
        <option value="">All</option>
        {{#each routes.routes as |routes|}}
        <option value="{{routes.route_id}}">{{routes.name}}</option>
        {{/each}}
    </select> --}}
    {{!-- <span id="filter">{{gender}}</span> --}}

    {{#if userRoutes}}
    <table class="leaderboard">
        <tr>
            <th>#</th>
            <th>Rider Name</th>
            <th>Route</th>
            {{!-- <th>Completed / Submitted</th> --}}
            <th>Submitted</th>
            {{!-- <th>Points</th> --}}
            {{!-- <th>Bonus</th> --}}
        </tr>
        {{#each userRoutes.userRoutes as | userRoutes| }}
        <tr>
            <td>{{add1 @index}}</td>
            <td>{{userRoutes.user.name}}</td>
            <td>{{userRoutes.route.name}}</td>
            <td>{{format_month_day_time userRoutes.date_submitted}}</td>
            {{!-- <td>{{userRoutes.route.points}}</td> --}}
            {{!-- <td>{{userRoutes.bonus_points}}</td> --}}
        </tr>
        {{/each}}
    </table>
    {{/if}}
</article>
<hr>
<article>
    <h4>Route Bonus (Attacker) Points</h4>
    <table class="leaderboard">
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>CAT</th>
            <th>Bonus</th>
        </tr>
        {{#each attackerPoints.attackerPoints as | attackerPoints |}}
        <tr>
            <td class="route-title" colspan="4">{{attackerPoints.name}}</td>
        </tr>
        {{#each attackerPoints.user_routes as | attackerRoutes |}}
        <tr>
            <td>{{add1 @index}}</td>
            <td>{{attackerRoutes.user.name}}</td>
            <td>{{attackerRoutes.user.gender}}</td>
            <td>{{attackerRoutes.bonus_points}}</td>
        </tr>
        {{/each}}
        {{/each}}
    </table>
</article>
<script src="/javascript/leaderboardFilter.js"></script>